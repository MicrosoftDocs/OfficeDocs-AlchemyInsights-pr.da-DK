---
title: Fejlfinding af protokollerne OAuth 2.0 og OpenID Connect
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 03/17/2021
audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "9776"
- "9004342"
ms.openlocfilehash: d2f14d4d16bea890b564cdb9bd9ac3875c28d115
ms.sourcegitcommit: c08bed4071baa3bb5879496df3ed44fb828c8367
ms.translationtype: MT
ms.contentlocale: da-DK
ms.lasthandoff: 03/19/2021
ms.locfileid: "51035598"
---
# <a name="troubleshoot-oauth-20-and-openid-connect-protocols"></a><span data-ttu-id="1dcfa-102">Fejlfinding af protokollerne OAuth 2.0 og OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="1dcfa-102">Troubleshoot OAuth 2.0 and OpenID Connect protocols</span></span>

<span data-ttu-id="1dcfa-103">Du kan løse problemer med OAuth 2.0 og OpenID Connect ved at udføre følgende anbefalede trin:</span><span class="sxs-lookup"><span data-stu-id="1dcfa-103">To resolve OAuth 2.0 and OpenID Connect issues, perform the following recommended steps:</span></span>

<span data-ttu-id="1dcfa-104">Se følgende artikler, der er relateret til konfiguration og fejlfinding af protokollerne OAuth 2.0 og OpenID Connect:</span><span class="sxs-lookup"><span data-stu-id="1dcfa-104">Refer to the following articles that are related to configuration and troubleshooting OAuth 2.0 and OpenID Connect protocols:</span></span>

- <span data-ttu-id="1dcfa-105">Microsoft-identitetsplatform og [OAuth 2.0-godkendelseskodeflow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) – Denne artikel beskriver, hvordan du programmerer direkte i forhold til flowet til kodetildelning **(PKCE)** i dit program ved hjælp af alle sprog.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-105">[Microsoft identity platform and OAuth 2.0 authorization code flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) - This article describes how to program directly against the **code grant (PKCE) flow** in your application, using any language.</span></span>
- <span data-ttu-id="1dcfa-106">[Microsoft-identitetsplatformen og flowet til OAuth 2.0-klientlegitimationsoplysninger](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) – Denne artikel beskriver, hvordan du programmerer direkte mod flowet til klientlegitimationsoplysninger i dit program. </span><span class="sxs-lookup"><span data-stu-id="1dcfa-106">[Microsoft identity platform and the OAuth 2.0 client credentials flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) - This article describes how to program directly against the **client credentials flow** in your application.</span></span>
- <span data-ttu-id="1dcfa-107">[Microsoft-identitetsplatform og OAuth 2.0-legitimationsoplysninger](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) for ressourceejer – Denne artikel beskriver, hvordan du programmerer direkte mod **ROPC-flowet** i dit program.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-107">[Microsoft identity platform and OAuth 2.0 Resource Owner Password Credentials](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) - This article describes how to program directly against the **ROPC flow** in your application.</span></span>
    - <span data-ttu-id="1dcfa-108">Microsoft-identitetsplatformen understøtter kun ROPC for Azure AD-lejere og ikke for personlige konti.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-108">The Microsoft identity platform only supports ROPC for Azure AD tenants, and not for personal accounts.</span></span> <span data-ttu-id="1dcfa-109">Det betyder, at du skal bruge et lejerspecifikt **slutpunkt https://login.microsoftonline.com/{TenantId_or_Name}) (** eller **organisationens** slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-109">This means that you must use a tenant-specific endpoint **(https://login.microsoftonline.com/{TenantId_or_Name})** or the **organizations** endpoint.</span></span>
    - <span data-ttu-id="1dcfa-110">Personlige konti, der inviteres til en Azure AD-lejer, kan ikke bruge ROPC.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-110">Personal accounts that are invited to an Azure AD tenant can't use ROPC.</span></span>
    - <span data-ttu-id="1dcfa-111">Konti, der ikke har adgangskoder, kan ikke logge på via ROPC.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-111">Accounts that don't have passwords can't sign in through ROPC.</span></span> <span data-ttu-id="1dcfa-112">I dette scenarie anbefaler vi, at du bruger et andet flow til din app i stedet.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-112">For this scenario, we recommend that you use a different flow for your app, instead.</span></span>
    - <span data-ttu-id="1dcfa-113">Hvis brugerne skal bruge [multifaktorgodkendelse til](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) at logge på programmet, blokeres de.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-113">If users need to use [multi-factor authentication (MFA)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) to log in to the application, they will be blocked.</span></span>
    - <span data-ttu-id="1dcfa-114">ROPC understøttes ikke i scenarier med [hybrid](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) identitetssammenslutning (f.eks. Azure AD og ADFS, der bruges til at godkende lokale konti).</span><span class="sxs-lookup"><span data-stu-id="1dcfa-114">ROPC is not supported in [hybrid identity federation](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) scenarios (for example, Azure AD and ADFS used to authenticate on-premises accounts).</span></span> <span data-ttu-id="1dcfa-115">Hvis brugere omdirigeres til en lokal identitetsudbyder, kan Azure AD ikke teste brugernavnet og adgangskoden hos den pågældende identitetsudbyder.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-115">If users are full-page redirected to an on-premises identity provider, Azure AD is not able to test the username and password against that identity provider.</span></span> <span data-ttu-id="1dcfa-116">[Pass-through-godkendelse](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) understøttes dog med ROPC.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-116">[Pass-through authentication](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) is supported with ROPC, however.</span></span>
    - <span data-ttu-id="1dcfa-117">En undtagelse til et scenarie med hybrid identitetssammenslutning ville være følgende: Politik for registrering af home Realm med **AllowCloudPasswordValidation** angivet til **SAND** vil gøre det muligt for ROPC-flow at fungere for brugere i organisationsnetværket, når en lokal adgangskode synkroniseres til skyen.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-117">An exception to a hybrid identity federation scenario would be the following: Home Realm Discovery policy with **AllowCloudPasswordValidation** set to **TRUE** will enable ROPC flow to work for federated users when on-premises password is synced to cloud.</span></span> <span data-ttu-id="1dcfa-118">Få mere at vide under [Aktivér direkte ROPC-godkendelse af brugere i organisationsnetværket for ældre programmer](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span><span class="sxs-lookup"><span data-stu-id="1dcfa-118">For more information, see [Enable direct ROPC authentication of federated users for legacy applications](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span></span> 
- <span data-ttu-id="1dcfa-119">Microsoft-identitetsplatform og [OAuth 2.0 På](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) vegne af flow – Denne artikel beskriver, hvordan du programmerer direkte mod **OBO-flow (på** vegne af) i dit program.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-119">[Microsoft identity platform and OAuth 2.0 On-Behalf-Of flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) - This article describes how to program directly against the **on-behalf-of (OBO) flow** in your application.</span></span>
- <span data-ttu-id="1dcfa-120">Microsoft-identitetsplatformen og [OpenID Connect-protokollen](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) – Denne artikel viser, hvordan du implementerer OpenID Connect-protokollen uafhængigt af sproget, og den beskriver, hvordan du kan sende og modtage HTTP-meddelelser uden brug af open source-biblioteker fra Microsoft.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-120">[Microsoft identity platform and OpenID Connect protocol](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) - This article shows how to implement the OpenID Connect protocol independent of language, and describes how to send and receive HTTP messages without using any Microsoft open-source libraries.</span></span>

<span data-ttu-id="1dcfa-121">**Adgangstokens**</span><span class="sxs-lookup"><span data-stu-id="1dcfa-121">**Access Tokens**</span></span>

<span data-ttu-id="1dcfa-122">[Adgangstokens for Microsoft-identitetsplatform](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) – Få mere at vide om, hvordan din API kan validere og bruge krav i et adgangstoken.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-122">[Microsoft identity platform access tokens](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) - Learn how your API can validate and use the claims inside an access token.</span></span> <span data-ttu-id="1dcfa-123">Al dokumentation i denne artikel, undtagen hvor den er angivet, gælder kun for tokens, der er udstedt for API'er, du har registreret.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-123">All documentation in this article, except where noted, applies only to tokens issued for APIs you've registered.</span></span> <span data-ttu-id="1dcfa-124">Den gælder ikke for tokens, der er udstedt for Microsoft-ejet API'er, og disse tokens kan heller ikke bruges til at validere, hvordan Microsoft-identitetsplatformen udsteder tokens for en API, du opretter.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-124">It does not apply to tokens issued for Microsoft-owned APIs, nor can those tokens be used to validate how the Microsoft identity platform will issue tokens for an API you create.</span></span>

<span data-ttu-id="1dcfa-125">**Programkonfiguration**</span><span class="sxs-lookup"><span data-stu-id="1dcfa-125">**Application Configuration**</span></span>

<span data-ttu-id="1dcfa-126">[Omdiriger restriktioner og begrænsninger for URI (svar URL)](https://docs.microsoft.com/azure/active-directory/develop/reply-url) – Få mere at vide om, hvordan du konfigurerer din Redirect URI (reply URL).</span><span class="sxs-lookup"><span data-stu-id="1dcfa-126">[Redirect URI (reply URL) restrictions and limitations](https://docs.microsoft.com/azure/active-directory/develop/reply-url) - Learn how to configure your Redirect URI (reply URL).</span></span> <span data-ttu-id="1dcfa-127">En omdirigerings-URI eller url-adresse er den placering, hvor godkendelsesserveren sender brugeren, når appen er blevet godkendt og tildelt en godkendelseskode eller et adgangstoken.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-127">A redirect URI, or reply URL, is the location where the authorization server sends the user once the app has been successfully authorized and granted an authorization code or access token.</span></span> <span data-ttu-id="1dcfa-128">Godkendelsesserveren sender koden eller tokenet til omdirigerings-URI'en. så det er vigtigt, at du registrerer den korrekte placering som en del af appregistreringsprocessen.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-128">The authorization server sends the code or token to the redirect URI; so it's important you register the correct location as part of the app registration process.</span></span>

<span data-ttu-id="1dcfa-129">**Klargøring af programmer**</span><span class="sxs-lookup"><span data-stu-id="1dcfa-129">**Application Provisioning**</span></span>

<span data-ttu-id="1dcfa-130">[Selvstudium:](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) Udvikling og planlægning af klargøring til et SCIM-slutpunkt – Denne artikel beskriver, hvordan du opbygger et SCIM-slutpunkt og integreres med AAD-klargøringstjenesten.</span><span class="sxs-lookup"><span data-stu-id="1dcfa-130">[Tutorial: Develop and plan provisioning for a SCIM endpoint](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) - This article describes how to build an SCIM endpoint and integrate with the AAD provisioning service.</span></span>


